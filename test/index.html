<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.iamport.kr/v1/iamport.js"></script>
    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-1.12.4.min.js"
    ></script>
    <!-- iamport.payment.js -->
    <script
      type="text/javascript"
      src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"
    ></script>
  </head>
  <body>
    <button onclick="requestPay()">결제하기</button>
    <!-- 결제하기 버튼 생성 -->
  </body>
  <script>
    function requestPay() {
      IMP.init("imp84308847"); //iamport 대신 자신의 "가맹점 식별코드"를 사용
      IMP.request_pay(
        {
          pg: "html5_inicis",
          pay_method: "card",
          merchant_uid: "order_no_0001", // 상점에서 관리하는 주문 번호를 전달
          name: "주문명:결제테스트",
          amount: 100,
          buyer_email: "iamport@siot.do",
          buyer_name: "구매자이름",
          buyer_tel: "010-1234-5678",
          buyer_addr: "서울특별시 강남구 삼성동",
          buyer_postcode: "123-456",
          m_redirect_url: "{모바일에서 결제 완료 후 리디렉션 될 URL}", // 예: https://www.my-service.com/payments/complete/mobile
        },
        function (rsp) {
          console.log(rsp);
          if (rsp.success) {
            var msg = "결제가 완료되었습니다.";
            alert(msg);
            location.href = "결제 완료 후 이동할 페이지 url";
          } else {
            var msg = "결제에 실패하였습니다.";
            msg += "에러내용 : " + rsp.error_msg;
            alert(msg);
          }
        }
      );
    }
  </script>
</html>
